"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2639],{3905:function(a,e,m){m.r(e),m.d(e,{MDXContext:function(){return l},MDXProvider:function(){return x},mdx:function(){return h},useMDXComponents:function(){return N},withMDXComponents:function(){return d}});var s=m(67294);function t(a,e,m){return e in a?Object.defineProperty(a,e,{value:m,enumerable:!0,configurable:!0,writable:!0}):a[e]=m,a}function n(){return n=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var m=arguments[e];for(var s in m)Object.prototype.hasOwnProperty.call(m,s)&&(a[s]=m[s])}return a},n.apply(this,arguments)}function p(a,e){var m=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),m.push.apply(m,s)}return m}function r(a){for(var e=1;e<arguments.length;e++){var m=null!=arguments[e]?arguments[e]:{};e%2?p(Object(m),!0).forEach((function(e){t(a,e,m[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(m)):p(Object(m)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(m,e))}))}return a}function i(a,e){if(null==a)return{};var m,s,t=function(a,e){if(null==a)return{};var m,s,t={},n=Object.keys(a);for(s=0;s<n.length;s++)m=n[s],e.indexOf(m)>=0||(t[m]=a[m]);return t}(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(s=0;s<n.length;s++)m=n[s],e.indexOf(m)>=0||Object.prototype.propertyIsEnumerable.call(a,m)&&(t[m]=a[m])}return t}var l=s.createContext({}),d=function(a){return function(e){var m=N(e.components);return s.createElement(a,n({},e,{components:m}))}},N=function(a){var e=s.useContext(l),m=e;return a&&(m="function"==typeof a?a(e):r(r({},e),a)),m},x=function(a){var e=N(a.components);return s.createElement(l.Provider,{value:e},a.children)},o={inlineCode:"code",wrapper:function(a){var e=a.children;return s.createElement(s.Fragment,{},e)}},c=s.forwardRef((function(a,e){var m=a.components,t=a.mdxType,n=a.originalType,p=a.parentName,l=i(a,["components","mdxType","originalType","parentName"]),d=N(m),x=t,c=d["".concat(p,".").concat(x)]||d[x]||o[x]||n;return m?s.createElement(c,r(r({ref:e},l),{},{components:m})):s.createElement(c,r({ref:e},l))}));function h(a,e){var m=arguments,t=e&&e.mdxType;if("string"==typeof a||t){var n=m.length,p=new Array(n);p[0]=c;var r={};for(var i in e)hasOwnProperty.call(e,i)&&(r[i]=e[i]);r.originalType=a,r.mdxType="string"==typeof a?a:t,p[1]=r;for(var l=2;l<n;l++)p[l]=m[l];return s.createElement.apply(null,p)}return s.createElement.apply(null,m)}c.displayName="MDXCreateElement"},98200:function(a,e,m){m.r(e),m.d(e,{frontMatter:function(){return r},contentTitle:function(){return i},metadata:function(){return l},toc:function(){return d},default:function(){return x}});var s=m(87462),t=m(63366),n=(m(67294),m(3905)),p=["components"],r={},i="Single-site ancestral Metropolis-Hastings",l={unversionedId:"framework_topics/inference/ancestral_metropolis_hastings",id:"framework_topics/inference/ancestral_metropolis_hastings",isDocsHomePage:!1,title:"Single-site ancestral Metropolis-Hastings",description:"Ancestral Metropolis-Hastings is one of the most fundamental Bayesian inference methods. In ancestral Metropolis-Hastings, values are sampled from the model's priors, and samples are accepted or rejected based on the sample's Metropolis acceptance probability. As such, ancestral Metropolis-Hastings is a very general inference method, making no strong assumptions about the structure of your model; however, this generality may lead it to be rather inefficient for many models.",source:"@site/../docs/framework_topics/inference/ancestral_metropolis_hastings.md",sourceDirName:"framework_topics/inference",slug:"/framework_topics/inference/ancestral_metropolis_hastings",permalink:"/docs/framework_topics/inference/ancestral_metropolis_hastings",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/../docs/framework_topics/inference/ancestral_metropolis_hastings.md",tags:[],version:"current",frontMatter:{},sidebar:"someSidebar",previous:{title:"Logging",permalink:"/docs/framework_topics/development/logging"},next:{title:"hamiltonian_monte_carlo",permalink:"/docs/framework_topics/inference/hamiltonian_monte_carlo"}},d=[{value:"Algorithm",id:"algorithm",children:[],level:2},{value:"Usage",id:"usage",children:[],level:2}],N={toc:d};function x(a){var e=a.components,m=(0,t.Z)(a,p);return(0,n.mdx)("wrapper",(0,s.Z)({},N,m,{components:e,mdxType:"MDXLayout"}),(0,n.mdx)("h1",{id:"single-site-ancestral-metropolis-hastings"},"Single-site ancestral Metropolis-Hastings"),(0,n.mdx)("p",null,"Ancestral Metropolis-Hastings is one of the most fundamental Bayesian inference methods. In ancestral Metropolis-Hastings, values are sampled from the model's priors, and samples are accepted or rejected based on the sample's Metropolis acceptance probability. As such, ancestral Metropolis-Hastings is a very general inference method, making no strong assumptions about the structure of your model; however, this generality may lead it to be rather inefficient for many models."),(0,n.mdx)("p",null,'Bean Machine provides a single-site variant of ancestral Metropolis-Hastings, in which values of random variables are sampled and updated one variable at a time (hence the name "Single-Site").'),(0,n.mdx)("p",null,"There are four main steps in Single Site Ancestral Metropolis-Hastings."),(0,n.mdx)("ol",null,(0,n.mdx)("li",{parentName:"ol"},"Propose a value for a random variable, which we'll call ",(0,n.mdx)("span",{parentName:"li",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mi",{parentName:"mrow"},"X")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),". The proposed value is sampled from the random variable's prior distribution."),(0,n.mdx)("li",{parentName:"ol"},"Given the proposed value for ",(0,n.mdx)("span",{parentName:"li",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mi",{parentName:"mrow"},"X")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),", update the distributions of all random variables in the Markov blanket of ",(0,n.mdx)("span",{parentName:"li",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mi",{parentName:"mrow"},"X")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),". The Markov blanket of a random variable consists of the random variable's children (those that depend upon it), parents (those that it depends upon), and the other parents of the random variable's children. We only consider the Markov blanket of random variable ",(0,n.mdx)("span",{parentName:"li",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mi",{parentName:"mrow"},"X")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X")))))," because only the likelihoods of these distributions are directly affected by a change in the value of ",(0,n.mdx)("span",{parentName:"li",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mi",{parentName:"mrow"},"X")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),". All other random variables in the model are conditionally independent of ",(0,n.mdx)("span",{parentName:"li",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mi",{parentName:"mrow"},"X")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X")))))," given the random variables in ",(0,n.mdx)("span",{parentName:"li",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mi",{parentName:"mrow"},"X")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),"'s Markov blanket."),(0,n.mdx)("li",{parentName:"ol"},"Compute the proposal ratio of proposing this new value given the updated distributions of all random variables in the Markov blanket of random variable ",(0,n.mdx)("span",{parentName:"li",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mi",{parentName:"mrow"},"X")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"X")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"))))),". This is known as the Metropolis-Hastings acceptance ratio."),(0,n.mdx)("li",{parentName:"ol"},"Accept or reject the proposed value with the probability computed in Step 3.")),(0,n.mdx)("h2",{id:"algorithm"},"Algorithm"),(0,n.mdx)("p",null,"This is the standard ancestral Metropolis-Hastings algorithm:"),(0,n.mdx)("p",null,(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mrow",{parentName:"mrow"},(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"Input:"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,n.mdx)("mtext",{parentName:"mrow"},"evidence\xa0"),(0,n.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"E"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0and\xa0queries\xa0"),(0,n.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"R")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\textbf{Input: }\\text{evidence }\\mathcal{E} \\text{ and queries } \\mathcal{R}")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8888799999999999em",verticalAlign:"-0.19444em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"Input:\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"evidence\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathcal",style:{marginRight:"0.08944em"}},"E")),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"\xa0and\xa0queries\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathcal"},"R")))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mrow",{parentName:"mrow"},(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"Given:"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,n.mdx)("mtext",{parentName:"mrow"},"a\xa0family\xa0of\xa0proposal\xa0distributions\xa0"),(0,n.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"Q")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\textbf{Given: }\\text{a family of proposal distributions }\\mathcal{Q}")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8888799999999999em",verticalAlign:"-0.19444em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"Given:\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"a\xa0family\xa0of\xa0proposal\xa0distributions\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathcal"},"Q")))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mrow",{parentName:"mrow"},(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"Create:"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,n.mdx)("mtext",{parentName:"mrow"},"initial\xa0world\xa0"),(0,n.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0initialized\xa0with\xa0"),(0,n.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"E"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0and\xa0extended\xa0to\xa0include\xa0"),(0,n.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"R")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\textbf{Create: } \\text{initial world }\\sigma\\text{ initialized with }\\mathcal{E}\\text{ and extended to include }\\mathcal{R}")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"Create:\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"initial\xa0world\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"\xa0initialized\xa0with\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathcal",style:{marginRight:"0.08944em"}},"E")),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"\xa0and\xa0extended\xa0to\xa0include\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathcal"},"R")))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"repeat")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\textbf{repeat}")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8293600000000001em",verticalAlign:"-0.19444em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"repeat")))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mtext",{parentName:"mrow"},"Let\xa0"),(0,n.mdx)("mi",{parentName:"mrow"},"V"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0represent\xa0random\xa0variables\xa0in\xa0"),(0,n.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0excluding\xa0"),(0,n.mdx)("mi",{parentName:"mrow",mathvariant:"script"},"E")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\text{Let }V\\text{ represent random variables in }\\sigma\\text{ excluding }\\mathcal{E}")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8888799999999999em",verticalAlign:"-0.19444em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"Let\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"\xa0represent\xa0random\xa0variables\xa0in\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"\xa0excluding\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathcal",style:{marginRight:"0.08944em"}},"E")))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mrow",{parentName:"mrow"},(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"for"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,n.mdx)("mi",{parentName:"mrow"},"X"),(0,n.mdx)("mrow",{parentName:"mrow"},(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0"),(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"in"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,n.mdx)("mi",{parentName:"mrow"},"V"),(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"do")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\textbf{for }X\\textbf{ in }V\\textbf{do}")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"for\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"\xa0in\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.22222em"}},"V"),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"do")))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mtext",{parentName:"mrow"},"Sample\xa0"),(0,n.mdx)("msup",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msup"},"x"),(0,n.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.mdx)("mo",{parentName:"mrow"},"\u223c"),(0,n.mdx)("msub",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msub",mathvariant:"script"},"Q"),(0,n.mdx)("mi",{parentName:"msub"},"X")),(0,n.mdx)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.mdx)("mi",{parentName:"mrow",mathvariant:"normal"},"."),(0,n.mdx)("mo",{parentName:"mrow"},"\u2223"),(0,n.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,n.mdx)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\text{Sample }x'\\sim\\mathcal{Q}_X(. \\mid \\sigma)")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.946332em",verticalAlign:"-0.19444em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"Sample\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,n.mdx)("span",{parentName:"span",className:"mrel"},"\u223c"),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathcal"},"Q")),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.32833099999999993em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginRight:"0.05em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X")))),(0,n.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,n.mdx)("span",{parentName:"span"})))))),(0,n.mdx)("span",{parentName:"span",className:"mopen"},"("),(0,n.mdx)("span",{parentName:"span",className:"mord"},"."),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,n.mdx)("span",{parentName:"span",className:"mrel"},"\u2223"),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"mclose"},")"))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mtext",{parentName:"mrow"},"Clone\xa0"),(0,n.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0to\xa0"),(0,n.mdx)("msup",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msup"},"\u03c3"),(0,n.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0and\xa0set\xa0"),(0,n.mdx)("msubsup",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msubsup"},"\u03c3"),(0,n.mdx)("mi",{parentName:"msubsup"},"X"),(0,n.mdx)("mo",{parentName:"msubsup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.mdx)("mo",{parentName:"mrow"},"="),(0,n.mdx)("msup",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msup"},"x"),(0,n.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032"))),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\text{Clone }\\sigma\\text{ to }\\sigma'\\text{ and set }\\sigma'_X=x'")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"1.027223em",verticalAlign:"-0.275331em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"Clone\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"\xa0to\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"\xa0and\xa0set\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-2.424669em",marginLeft:"-0.03588em",marginRight:"0.05em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X"))),(0,n.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))),(0,n.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.275331em"}},(0,n.mdx)("span",{parentName:"span"})))))),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,n.mdx)("span",{parentName:"span",className:"mrel"},"="),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.751892em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal"},"x"),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mtext",{parentName:"mrow"},"Recompute\xa0"),(0,n.mdx)("msubsup",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msubsup"},"\u03c3"),(0,n.mdx)("mi",{parentName:"msubsup"},"Y"),(0,n.mdx)("mo",{parentName:"msubsup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0for\xa0"),(0,n.mdx)("mi",{parentName:"mrow"},"Y"),(0,n.mdx)("mo",{parentName:"mrow"},"\u2208"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0children\xa0of\xa0"),(0,n.mdx)("mi",{parentName:"mrow"},"X"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0in\xa0"),(0,n.mdx)("msup",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msup"},"\u03c3"),(0,n.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032"))),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\text{Recompute }\\sigma'_{Y}\\text{ for }Y\\in\\text{ children of } X\\text{ in }\\sigma'")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"1.027223em",verticalAlign:"-0.275331em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"Recompute\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-2.424669em",marginLeft:"-0.03588em",marginRight:"0.05em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.22222em"}},"Y")))),(0,n.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))),(0,n.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.275331em"}},(0,n.mdx)("span",{parentName:"span"})))))),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"\xa0for\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.22222em"}},"Y"),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,n.mdx)("span",{parentName:"span",className:"mrel"},"\u2208"),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.751892em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"\xa0children\xa0of\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.07847em"}},"X"),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"\xa0in\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mi",{parentName:"mrow"},"\u03b1"),(0,n.mdx)("mo",{parentName:"mrow"},"="),(0,n.mdx)("mi",{parentName:"mrow"},"min"),(0,n.mdx)("mo",{parentName:"mrow"},"\u2061"),(0,n.mdx)("mrow",{parentName:"mrow"},(0,n.mdx)("mo",{parentName:"mrow",fence:"true"},"["),(0,n.mdx)("mn",{parentName:"mrow"},"1"),(0,n.mdx)("mo",{parentName:"mrow",separator:"true"},","),(0,n.mdx)("mfrac",{parentName:"mrow"},(0,n.mdx)("mrow",{parentName:"mfrac"},(0,n.mdx)("mi",{parentName:"mrow"},"p"),(0,n.mdx)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.mdx)("msup",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msup"},"\u03c3"),(0,n.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.mdx)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,n.mdx)("msub",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msub",mathvariant:"script"},"Q"),(0,n.mdx)("mi",{parentName:"msub"},"X")),(0,n.mdx)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.mdx)("msub",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msub"},"\u03c3"),(0,n.mdx)("mi",{parentName:"msub"},"X")),(0,n.mdx)("mo",{parentName:"mrow"},"\u2223"),(0,n.mdx)("msup",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msup"},"\u03c3"),(0,n.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.mdx)("mo",{parentName:"mrow",stretchy:"false"},")")),(0,n.mdx)("mrow",{parentName:"mfrac"},(0,n.mdx)("mi",{parentName:"mrow"},"p"),(0,n.mdx)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,n.mdx)("mo",{parentName:"mrow",stretchy:"false"},")"),(0,n.mdx)("msub",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msub",mathvariant:"script"},"Q"),(0,n.mdx)("mi",{parentName:"msub"},"X")),(0,n.mdx)("mo",{parentName:"mrow",stretchy:"false"},"("),(0,n.mdx)("msubsup",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msubsup"},"\u03c3"),(0,n.mdx)("mi",{parentName:"msubsup"},"X"),(0,n.mdx)("mo",{parentName:"msubsup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032")),(0,n.mdx)("mo",{parentName:"mrow"},"\u2223"),(0,n.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,n.mdx)("mo",{parentName:"mrow",stretchy:"false"},")"))),(0,n.mdx)("mo",{parentName:"mrow",fence:"true"},"]"))),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\alpha=\\min\\left[1, \\frac{p(\\sigma')\\mathcal{Q}_X(\\sigma_X\\mid\\sigma')}{p(\\sigma)\\mathcal{Q}_X(\\sigma'_X\\mid\\sigma)}\\right]")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.0037em"}},"\u03b1"),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,n.mdx)("span",{parentName:"span",className:"mrel"},"="),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"1.80002em",verticalAlign:"-0.65002em"}}),(0,n.mdx)("span",{parentName:"span",className:"mop"},"min"),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,n.mdx)("span",{parentName:"span",className:"minner"},(0,n.mdx)("span",{parentName:"span",className:"mopen delimcenter",style:{top:"0em"}},(0,n.mdx)("span",{parentName:"span",className:"delimsizing size2"},"[")),(0,n.mdx)("span",{parentName:"span",className:"mord"},"1"),(0,n.mdx)("span",{parentName:"span",className:"mpunct"},","),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mopen nulldelimiter"}),(0,n.mdx)("span",{parentName:"span",className:"mfrac"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"1.06448em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-2.6550000000000002em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight"},"p"),(0,n.mdx)("span",{parentName:"span",className:"mopen mtight"},"("),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"mclose mtight"},")"),(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathcal mtight"},"Q")),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.3448em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-2.3567071428571427em",marginRight:"0.07142857142857144em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X")))),(0,n.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.14329285714285717em"}},(0,n.mdx)("span",{parentName:"span"})))))),(0,n.mdx)("span",{parentName:"span",className:"mopen mtight"},"("),(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.7416285714285715em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-2.160707142857143em",marginLeft:"-0.03588em",marginRight:"0.07142857142857144em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X"))),(0,n.mdx)("span",{parentName:"span",style:{top:"-2.8448em",marginRight:"0.07142857142857144em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))),(0,n.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.3392928571428572em"}},(0,n.mdx)("span",{parentName:"span"})))))),(0,n.mdx)("span",{parentName:"span",className:"mrel mtight"},"\u2223"),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"mclose mtight"},")")))),(0,n.mdx)("span",{parentName:"span",style:{top:"-3.23em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.mdx)("span",{parentName:"span",className:"frac-line",style:{borderBottomWidth:"0.04em"}})),(0,n.mdx)("span",{parentName:"span",style:{top:"-3.485em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight"},"p"),(0,n.mdx)("span",{parentName:"span",className:"mopen mtight"},"("),(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.8278285714285715em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-2.931em",marginRight:"0.07142857142857144em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,n.mdx)("span",{parentName:"span",className:"mclose mtight"},")"),(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathcal mtight"},"Q")),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.3448em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-2.3567071428571427em",marginRight:"0.07142857142857144em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X")))),(0,n.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.14329285714285717em"}},(0,n.mdx)("span",{parentName:"span"})))))),(0,n.mdx)("span",{parentName:"span",className:"mopen mtight"},"("),(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.3448em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-2.3567071428571427em",marginLeft:"-0.03588em",marginRight:"0.07142857142857144em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.07847em"}},"X")))),(0,n.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.14329285714285717em"}},(0,n.mdx)("span",{parentName:"span"})))))),(0,n.mdx)("span",{parentName:"span",className:"mrel mtight"},"\u2223"),(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.8278285714285715em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-2.931em",marginRight:"0.07142857142857144em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.5em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size3 size1 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))),(0,n.mdx)("span",{parentName:"span",className:"mclose mtight"},")"))))),(0,n.mdx)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.5825049999999999em"}},(0,n.mdx)("span",{parentName:"span"}))))),(0,n.mdx)("span",{parentName:"span",className:"mclose nulldelimiter"})),(0,n.mdx)("span",{parentName:"span",className:"mclose delimcenter",style:{top:"0em"}},(0,n.mdx)("span",{parentName:"span",className:"delimsizing size2"},"]"))))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mi",{parentName:"mrow"},"u"),(0,n.mdx)("mo",{parentName:"mrow"},"\u223c"),(0,n.mdx)("mtext",{parentName:"mrow"},"Uniform(0,\xa01)")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad u\\sim \\text{Uniform(0, 1)}")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal"},"u"),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,n.mdx)("span",{parentName:"span",className:"mrel"},"\u223c"),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"Uniform(0,\xa01)")))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mrow",{parentName:"mrow"},(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"if"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,n.mdx)("mi",{parentName:"mrow"},"u"),(0,n.mdx)("mo",{parentName:"mrow"},"<"),(0,n.mdx)("mi",{parentName:"mrow"},"\u03b1"),(0,n.mdx)("mrow",{parentName:"mrow"},(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0"),(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"then"))),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\textbf{if }u<\\alpha\\textbf{ then}")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.73354em",verticalAlign:"-0.0391em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"if\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal"},"u"),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,n.mdx)("span",{parentName:"span",className:"mrel"},"<"),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.0037em"}},"\u03b1"),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"\xa0then")))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mi",{parentName:"mrow"},"\u03c3"),(0,n.mdx)("mo",{parentName:"mrow"},"="),(0,n.mdx)("msup",{parentName:"mrow"},(0,n.mdx)("mi",{parentName:"msup"},"\u03c3"),(0,n.mdx)("mo",{parentName:"msup",mathvariant:"normal",lspace:"0em",rspace:"0em"},"\u2032"))),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\qquad\\sigma=\\sigma'")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,n.mdx)("span",{parentName:"span",className:"mrel"},"="),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.751892em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord"},(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"),(0,n.mdx)("span",{parentName:"span",className:"msupsub"},(0,n.mdx)("span",{parentName:"span",className:"vlist-t"},(0,n.mdx)("span",{parentName:"span",className:"vlist-r"},(0,n.mdx)("span",{parentName:"span",className:"vlist",style:{height:"0.751892em"}},(0,n.mdx)("span",{parentName:"span",style:{top:"-3.063em",marginRight:"0.05em"}},(0,n.mdx)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,n.mdx)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},(0,n.mdx)("span",{parentName:"span",className:"mord mtight"},"\u2032"))))))))))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mrow",{parentName:"mrow"},(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"end"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0"),(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"if"))),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\qquad\\textbf{end if}")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"end\xa0if")))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mrow",{parentName:"mrow"},(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"end"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0"),(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"for"))),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\textbf{end for}")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.69444em",verticalAlign:"0em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"end\xa0for")))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mspace",{parentName:"mrow",width:"2em"}),(0,n.mdx)("mtext",{parentName:"mrow"},"Emit\xa0sample\xa0"),(0,n.mdx)("mi",{parentName:"mrow"},"\u03c3")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\qquad\\text{Emit sample }\\sigma")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8888799999999999em",verticalAlign:"-0.19444em"}}),(0,n.mdx)("span",{parentName:"span",className:"mspace",style:{marginRight:"2em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"Emit\xa0sample\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"\u03c3"))))),"\n",(0,n.mdx)("span",{parentName:"p",className:"math math-inline"},(0,n.mdx)("span",{parentName:"span",className:"katex"},(0,n.mdx)("span",{parentName:"span",className:"katex-mathml"},(0,n.mdx)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,n.mdx)("semantics",{parentName:"math"},(0,n.mdx)("mrow",{parentName:"semantics"},(0,n.mdx)("mrow",{parentName:"mrow"},(0,n.mdx)("mtext",{parentName:"mrow",mathvariant:"bold"},"until"),(0,n.mdx)("mtext",{parentName:"mrow"},"\xa0")),(0,n.mdx)("mtext",{parentName:"mrow"},"Desired\xa0number\xa0of\xa0samples")),(0,n.mdx)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\textbf{until }\\text{Desired number of samples}")))),(0,n.mdx)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,n.mdx)("span",{parentName:"span",className:"base"},(0,n.mdx)("span",{parentName:"span",className:"strut",style:{height:"0.8888799999999999em",verticalAlign:"-0.19444em"}}),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord textbf"},"until\xa0")),(0,n.mdx)("span",{parentName:"span",className:"mord text"},(0,n.mdx)("span",{parentName:"span",className:"mord"},"Desired\xa0number\xa0of\xa0samples"))))))),(0,n.mdx)("p",null,"Or, in pseudo-code:"),(0,n.mdx)("pre",null,(0,n.mdx)("code",{parentName:"pre"},"For each inference iteration:\n    For each unobserved random variable X:\n        Perform a Metropolis Hastings (MH) update, which involves:\n            1. Propose a new value x\u2032 for X using proposal Q\n            2. Update the world \u03c3 to \u03c3\u2032\n            3. Accept / reject the new value x' using Metropolis-Hastings acceptance ratio\n")),(0,n.mdx)("h2",{id:"usage"},"Usage"),(0,n.mdx)("p",null,"Here is an example of how to use Single-Site Ancestral Metropolis Hastings to perform inference in Bean Machine."),(0,n.mdx)("pre",null,(0,n.mdx)("code",{parentName:"pre",className:"language-py"},"from beanmachine.ppl.inference.single_site_ancestral_mh import SingleSiteAncestralMetropolisHastings\n\nmh = SingleSiteAncestralMetropolisHastings()\ncoin_samples = mh.infer(queries, observations, num_samples, num_chains)\n")),(0,n.mdx)("p",null,"The parameters to ",(0,n.mdx)("inlineCode",{parentName:"p"},"infer")," are described below:"),(0,n.mdx)("table",null,(0,n.mdx)("thead",{parentName:"table"},(0,n.mdx)("tr",{parentName:"thead"},(0,n.mdx)("th",{parentName:"tr",align:null},"Name"),(0,n.mdx)("th",{parentName:"tr",align:null},"Usage"))),(0,n.mdx)("tbody",{parentName:"table"},(0,n.mdx)("tr",{parentName:"tbody"},(0,n.mdx)("td",{parentName:"tr",align:null},(0,n.mdx)("inlineCode",{parentName:"td"},"queries")),(0,n.mdx)("td",{parentName:"tr",align:null},"A list of ",(0,n.mdx)("inlineCode",{parentName:"td"},"@bm.random_variable")," targets to fit posterior distributions for.")),(0,n.mdx)("tr",{parentName:"tbody"},(0,n.mdx)("td",{parentName:"tr",align:null},(0,n.mdx)("inlineCode",{parentName:"td"},"observations")),(0,n.mdx)("td",{parentName:"tr",align:null},"The ",(0,n.mdx)("inlineCode",{parentName:"td"},"Dict")," of observations, where each key is a random variable, and its value is the observed value for that random variable.")),(0,n.mdx)("tr",{parentName:"tbody"},(0,n.mdx)("td",{parentName:"tr",align:null},(0,n.mdx)("inlineCode",{parentName:"td"},"num_samples")),(0,n.mdx)("td",{parentName:"tr",align:null},"Number of samples to build up distributions for the values listed in ",(0,n.mdx)("inlineCode",{parentName:"td"},"queries"),".")),(0,n.mdx)("tr",{parentName:"tbody"},(0,n.mdx)("td",{parentName:"tr",align:null},(0,n.mdx)("inlineCode",{parentName:"td"},"num_chains")),(0,n.mdx)("td",{parentName:"tr",align:null},"Number of separate inference runs to use. Multiple chains can verify inference ran correctly.")))))}x.isMDXComponent=!0}}]);